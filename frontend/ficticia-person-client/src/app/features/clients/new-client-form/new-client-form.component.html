<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
  <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
    <div>
      <label class="mb-1 block text-sm font-medium text-slate-700">Full Name</label>
      <input
        type="text"
        formControlName="fullName"
        placeholder="John Doe"
      class="w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
      />
    </div>

    <div>
      <label class="mb-1 block text-sm font-medium text-slate-700">Identification</label>
      <input
        type="text"
        formControlName="identification"
        placeholder="12345678"
      class="w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
      />
    </div>

    <div>
      <label class="mb-1 block text-sm font-medium text-slate-700">Age</label>
      <input
        type="number"
        formControlName="age"
        placeholder="30"
      class="w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
      />
    </div>

    <div>
      <label class="mb-1 block text-sm font-medium text-slate-700">Gender</label>
      <select
        formControlName="gender"
      class="w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500">
        <option value="" disabled>Select</option>
        <option value="MALE">Male</option>
        <option value="FEMALE">Female</option>
        <option value="OTHER">Other</option>
      </select>
    </div>
  </div>

  <hr class="border-slate-200" />

  <div class="space-y-4">
    <label class="flex items-center justify-between text-sm font-medium text-slate-700">
      <span>Active</span>
      <div class="flex items-center">
        <input type="checkbox" id="activeToggle" formControlName="active" class="peer sr-only" />
        <span
          class="inline-flex h-6 w-11 items-center rounded-full bg-slate-200 transition peer-checked:bg-blue-600">
          <span class="ml-1 h-4 w-4 rounded-full bg-white shadow transition peer-checked:translate-x-5"></span>
        </span>
      </div>
    </label>

    <label class="flex items-center justify-between text-sm font-medium text-slate-700">
      <span>Drives?</span>
      <div class="flex items-center">
        <input type="checkbox" id="drivesToggle" formControlName="drives" class="peer sr-only" />
        <span
          class="inline-flex h-6 w-11 items-center rounded-full bg-slate-200 transition peer-checked:bg-blue-600">
          <span class="ml-1 h-4 w-4 rounded-full bg-white shadow transition peer-checked:translate-x-5"></span>
        </span>
      </div>
    </label>

    <label class="flex items-center justify-between text-sm font-medium text-slate-700">
      <span>Wears Glasses?</span>
      <div class="flex items-center">
        <input type="checkbox" id="glassesToggle" formControlName="wearsGlasses" class="peer sr-only" />
        <span
          class="inline-flex h-6 w-11 items-center rounded-full bg-slate-200 transition peer-checked:bg-blue-600">
          <span class="ml-1 h-4 w-4 rounded-full bg-white shadow transition peer-checked:translate-x-5"></span>
        </span>
      </div>
    </label>

    <label class="flex items-center justify-between text-sm font-medium text-slate-700">
      <span>Diabetic?</span>
      <div class="flex items-center">
        <input type="checkbox" id="diabeticToggle" formControlName="diabetic" class="peer sr-only" />
        <span
          class="inline-flex h-6 w-11 items-center rounded-full bg-slate-200 transition peer-checked:bg-blue-600">
          <span class="ml-1 h-4 w-4 rounded-full bg-white shadow transition peer-checked:translate-x-5"></span>
        </span>
      </div>
    </label>
  </div>

  <hr class="border-slate-200" />

  <div>
    <label class="mb-1 block text-sm font-medium text-slate-700">Other Disease (if any)</label>
    <textarea
      rows="3"
      formControlName="otherDisease"
      placeholder="Describe any other disease..."
      class="w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"></textarea>
  </div>

  <div class="flex items-center justify-between">
    <div>
      <p class="text-sm font-medium text-slate-700">Additional Attributes</p>
      <p class="text-xs text-slate-400">Optional metadata to send to the API.</p>
    </div>
    <button
      type="button"
      class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50"
      (click)="onAddAttribute()">
      <span class="mr-1 text-base">+</span>
      Add
    </button>
  </div>

  <div class="space-y-3" *ngIf="additionalAttributes.length > 0">
    <div
      class="grid grid-cols-[1fr_1fr_auto] items-center gap-3"
      *ngFor="let group of additionalAttributeGroups; index as i"
      [formGroup]="group">
      <input
        type="text"
        class="rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
        placeholder="Key"
        formControlName="key" />
      <input
        type="text"
        class="rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
        placeholder="Value"
        formControlName="value" />
      <button
        type="button"
        class="text-slate-400 transition hover:text-rose-500"
        aria-label="Remove attribute"
        (click)="removeAttribute(i)">
        Ã—
      </button>
    </div>
  </div>

  <div class="flex justify-end gap-2 border-t border-slate-200 pt-4">
    <button
      type="button"
      (click)="onCancel()"
      class="rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50">
      Cancel
    </button>
    <button
      type="submit"
      class="rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1">
      {{ mode === 'create' ? 'Create Client' : 'Save Changes' }}
    </button>
  </div>
</form>
