<div class="min-h-screen flex bg-slate-50 text-slate-900">
  <app-sidebar class="hidden md:flex" [branding]="sidebarBranding" [links]="sidebarLinks"></app-sidebar>

  <div class="flex-1 flex flex-col">
    <main class="flex-1 px-8 py-6 overflow-auto">
      <section class="mb-6">
        <h1 class="text-2xl font-semibold text-slate-900">Clients</h1>
        <p class="text-sm text-slate-500">Manage life insurance clients</p>
      </section>

      <!-- The list notifies the parent via outputs to open the modal -->
      <app-clients-list
        [clients]="clients"
        (newClient)="openCreateModal()"
        (editClient)="openEditModal($event)">
      </app-clients-list>
    </main>
  </div>
</div>

<app-modal
  [title]="modalMode === 'create' ? 'New Client' : 'Edit Client'"
  [visible]="isNewClientModalOpen"
  (closed)="handleFormClose()">
  <app-new-client-form
    [mode]="modalMode"
    [client]="selectedClient"
    (cancel)="handleFormClose()"
    (save)="handleFormSubmit($event)">
  </app-new-client-form>
</app-modal>
